- config:
    name: "Launcher3.0验证接口数据请求"
    variables:
        openid1: 75cc69034ce29daa02d261ae5820b87c
        openid2: 8c3484c9889525d2edb171b996686ecd
        libraryId: 1
        coursewareId: 10008
        contentId: 25

- test:
    name: /api/v1/launcher/isConfig
    api: api/GMUI/Launcher3.0接口/api_v1_launcher_isConfig.yml
    variables:
        data: {"sourceId":"10001","sourceType":2}
    validate:
      - eq: [status_code, 200]
      - eq: [content.code, 200]

- test:
    name: /child/broadcast/list
    api: api/GMUI/Launcher3.0接口/child_broadcast_list.yml
    variables:
        data: {"broadcastScene":"1"}
    validate:
      - eq: [status_code, 200]
      - eq: [content.code, 200]

- test:
    name: /child/filter/tags
    api: api/GMUI/Launcher3.0接口/child_filter_tags.yml
    variables:
        data: {"source": "iqiyi", "dockId": "1", "gender": "1", "ageDuration": "1"}
    validate:
      - eq: [status_code, 200]
      - eq: [content.code, 200]

# TODO: 请求数据依赖/child/filter/tags接口返回的数据
- test:
    name: /child/filter/content
    api: api/GMUI/Launcher3.0接口/child_filter_content.yml
    variables:
        data: {"source": "iqiyi", "dockId": "1", "filters": [{"k": "1", "v": "1"}],
               "page": "1", "pageSize": "10", "gender": "1", "ageDuration": "1"}
    validate:
      - eq: [status_code, 200]
      - eq: [content.code, 200]

- test:
    name: /child/launcher
    api: api/GMUI/Launcher3.0接口/child_launcher.yml
    variables:
        data: {"gender": 1, "ageDuration": 2}
    validate:
      - eq: [status_code, 200]
      - eq: [content.code, 200]

# 11-19可请求通的接口
- test:
    name: /child/voice/search
    api: api/GMUI/Launcher3.0接口/child_voice_search.yml
    variables:
        data: {"film": "小猪佩奇", "filmType": "动画片", "fileSubType": "开心", "filmTag": "动作",
               "filmLanguage": "英语", "filmArea": "美国", "newest": "1", "hottest": "1",
               "highScore": "1", "gender": "1", "ageDuration": "1", "page": "1",
               "pageSize": "1",
               "uiMode": 4, "guide": "", "guideTips": "", "keyWords": ""}
    validate:
      - eq: [status_code, 200]
      - eq: [content.code, 200]

- test:
    name: /course/playAddress
    api: api/GMUI/Launcher3.0接口/course_playAddress.yml
    variables:
        data: {"openid": $openid2,
               "coursewareId": $coursewareId}
    validate:
      - eq: [status_code, 200]
      - eq: [content.code, 200]

# 11-19可请求通的接口
- test:
    name: /course/seminarDetail
    api: api/GMUI/Launcher3.0接口/course_seminarDetail.yml
    variables:
        data: {"contentId": $contentId}
    validate:
      - eq: [status_code, 200]
      - eq: [content.code, 200]


- test:
    name: /grade/list
    api: api/GMUI/Launcher3.0接口/grade_list.yml
    validate:
      - eq: [status_code, 200]
      - eq: [content.code, 200]

- test:
    name: /library/tag
    api: api/GMUI/Launcher3.0接口/library_tag.yml
    variables:
        data: {"libraryId": $libraryId}
    validate:
      - eq: [status_code, 200]
      - eq: [content.code, 200]

# TODO: 请求数据依赖/library/tag接口返回的数据
- test:
    name: /library/tagDetail
    api: api/GMUI/Launcher3.0接口/library_tagDetail.yml
    variables:
        data: {"libraryTagId": 4512154, "page": 1, "pageSize": 10}
    validate:
      - eq: [status_code, 200]
      - eq: [content.code, 200]

- test:
    name: /user/loginStatus
    api: api/GMUI/Launcher3.0接口/user_loginStatus.yml
    variables:
        data: {"key": None}
    validate:
      - eq: [status_code, 200]
      - eq: [content.code, 200]

- test:
    name: /userEdu/info
    api: api/GMUI/Launcher3.0接口/userEdu_info.yml
    variables:
        data: {"openid": $openid2}
    validate:
      - eq: [status_code, 200]
      - eq: [content.code, 200]

- test:
    name: /userEdu/saveUserGrade
    api: api/GMUI/Launcher3.0接口/userEdu_saveUserGrade.yml
    variables:
        data: {"openid": $openid1, "gradeId": 3, "phone": ""}
    validate:
      - eq: [status_code, 200]
      - eq: [content.code, 200]

- test:
    name: /vip/productList
    api: api/GMUI/Launcher3.0接口/vip_productList.yml
    variables:
        data: {"partner": "edu", "from": "edu"}
    extract:
        product_id: content.data.0.product_id
    validate:
      - eq: [status_code, 200]
      - eq: [content.code, 200]

- test:
    name: /vip/productPayStatus
    api: api/GMUI/Launcher3.0接口/vip_productPayStatus.yml
    variables:
        data: {"key": None}
    validate:
      - eq: [status_code, 200]
      - eq: [content.code, 200]

- test:
    name: /vip/productQrCode
    api: api/GMUI/Launcher3.0接口/vip_productQrCode.yml
    variables:
        data: {"openid": $openid1, "mobile": "15770843323", "product_id": $product_id,
               "service": "edu.pay", "from": "edu"}
    validate:
      - eq: [status_code, 200]
      - eq: [content.code, 200]



